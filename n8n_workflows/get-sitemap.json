{
  "createdAt": "2025-10-22T13:51:50.209Z",
  "updatedAt": "2025-10-22T19:50:52.590Z",
  "id": "7FoU9Spu4KwNDAMk",
  "name": "Get sitemap",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -672,
        -48
      ],
      "id": "d02dcf29-5748-4e9e-a102-c00198b46f9f",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "jsCode": "const base = String($json.baseUrl ?? '').trim();\n\n\nlet urlsarray = [];\n\n// 1) Спец-кейс: Сайт KIBERone (главный домен) → вернём предзаданный набор\nif (\"https://saratov-okt.kiber-one.com/\" === base) {\n  urlsarray = [\n    \"https://saratov-okt.kiber-one.com/\", // homepage сначала\n    \"https://saratov-okt.kiber-one.com/moduli/mir-trehmernyh-igr-na-unity-3d/\",\n    \"https://saratov-okt.kiber-one.com/moduli/podgotovka-k-olimpiadam/\",\n    \"https://saratov-okt.kiber-one.com/moduli/umnyy-chat-bot-na-python/\",\n    \"https://saratov-okt.kiber-one.com/moduli/kompyuternaya-gramotnost/\",\n    \"https://saratov-okt.kiber-one.com/moduli/delovye-lyudi/\",\n    \"https://saratov-okt.kiber-one.com/moduli/web-dizayn-dlya-saytov-ili-prilozheniy/\",\n    \"https://saratov-okt.kiber-one.com/o-kibershkole/lokacii/\",\n    \"https://saratov-okt.kiber-one.com/moduli/minecraft-educate/\",\n    \"https://saratov-okt.kiber-one.com/moduli/roblox-studio-sdelat-vse-chto-vy-mozhete-sebe-predstavit/\",\n    \"https://saratov-okt.kiber-one.com/moduli/web-master-html--css/\",\n    \"https://saratov-okt.kiber-one.com/moduli/lendingi-lp-i-tilda-verstka-odnostranichnikov/\",\n    \"https://saratov-okt.kiber-one.com/moduli/vvodnyy-modul/\",\n    \"https://saratov-okt.kiber-one.com/moduli/tinkercad/\",\n    \"https://saratov-okt.kiber-one.com/moduli/codemonkey/\",\n    \"https://saratov-okt.kiber-one.com/moduli/blender/\",\n    \"https://saratov-okt.kiber-one.com/o-kibershkole/smi-o-nas/\",\n    \"https://saratov-okt.kiber-one.com/moduli/qr-kod-kak-instrument/\",\n    \"https://saratov-okt.kiber-one.com/moduli/unreal-engine-4-igrovoy-dvizhok/\",\n    \"https://saratov-okt.kiber-one.com/o-kibershkole/kibervaluta/\",\n    \"https://saratov-okt.kiber-one.com/moduli/programmirovanie-na-javascript-uchimsya-sozdavat-igry/\",\n    \"https://saratov-okt.kiber-one.com/moduli/prilozheniya-google-primenyat-dlya-zhizni-35-prilozheniy-ot-g/\",\n    \"https://saratov-okt.kiber-one.com/moduli/neyroseti/\",\n    \"https://saratov-okt.kiber-one.com/moduli/google-blockly-apofeoz-vizualnogo-programmirovaniya/\",\n    \"https://saratov-okt.kiber-one.com/moduli/gif-animaciya/\",\n    \"https://saratov-okt.kiber-one.com/moduli/olimpiadnoe-programmirovanie/\",\n    \"https://saratov-okt.kiber-one.com/o-kibershkole/raspisanie/\",\n    \"https://saratov-okt.kiber-one.com/moduli/golosovoy-pomoschnik-alisa/\",\n    \"https://saratov-okt.kiber-one.com/moduli/modul-2-znakomstvo-so-scratch-sozdanie-igr-na-scratch-osnovy/\",\n    \"https://saratov-okt.kiber-one.com/moduli/osnovy-html-izuchenie-web-razrabotki/\",\n    \"https://saratov-okt.kiber-one.com/moduli/volshebnyy-photoshop/\",\n    \"https://saratov-okt.kiber-one.com/sertifikaty/\",\n    \"https://saratov-okt.kiber-one.com/moduli/osnovy-kiberbezopasnosti/\",\n    \"https://saratov-okt.kiber-one.com/moduli/programmirovanie-na-java-tvoe-pervoe-prilozhenie/\",\n    \"https://saratov-okt.kiber-one.com/moduli/blokcheyn-tehnologichnoe-buduschee/\",\n    \"https://saratov-okt.kiber-one.com/moduli/run-marco-1/\",\n    \"https://saratov-okt.kiber-one.com/vybirayte-format-svoego-leta-s-kiberone/kiber-kanikuly/\",\n    \"https://saratov-okt.kiber-one.com/moduli/phpsql-2-mesyaca/\",\n    \"https://saratov-okt.kiber-one.com/moduli/ispolniteli-chertezhnik-i-cherepashka/\",\n    \"https://saratov-okt.kiber-one.com/o-kibershkole/news/\",\n    \"https://saratov-okt.kiber-one.com/oplata/\",\n    \"https://saratov-okt.kiber-one.com/moduli/kompas-3d/\",\n    \"https://saratov-okt.kiber-one.com/feedback/\",\n    \"https://saratov-okt.kiber-one.com/moduli/ustroystvo-kompyutera-my-na-ty/\",\n    \"https://saratov-okt.kiber-one.com/moduli/alice-3d/\",\n    \"https://saratov-okt.kiber-one.com/moduli/thunkable/\",\n    \"https://saratov-okt.kiber-one.com/moduli/kodu-game-lab-vizualnoe-programmirovanie-v-3d/\",\n    \"https://saratov-okt.kiber-one.com/o-kibershkole/prepodavateli/\",\n    \"https://saratov-okt.kiber-one.com/moduli/piktomir/\",\n    \"https://saratov-okt.kiber-one.com/moduli/scratch-jr/\",\n    \"https://saratov-okt.kiber-one.com/moduli/construct-2---sozday-svoy-pervyy-platformer/\",\n    \"https://saratov-okt.kiber-one.com/moduli/programmirovanie-na-c-udivitelnyy-mir-2d-igr/\",\n    \"https://saratov-okt.kiber-one.com/moduli/programmirovanie-na-s-smozhet-kazhdyy/\",\n    \"https://saratov-okt.kiber-one.com/moduli/\",\n    \"https://saratov-okt.kiber-one.com/moduli/web-dizayn-figma/\",\n    \"https://saratov-okt.kiber-one.com/moduli/magiya-powerpoint--canva-sozdanie-effektivnyh-prezentaciy/\",\n    \"https://saratov-okt.kiber-one.com/vybirayte-format-svoego-leta-s-kiberone/letnie-moduli-kiberone/\",\n    \"https://saratov-okt.kiber-one.com/o-kibershkole/video/\",\n    \"https://saratov-okt.kiber-one.com/moduli/programmirovanie-v-python-sozday-svoyu-pervuyu-igru/\",\n    \"https://saratov-okt.kiber-one.com/moduli/motion-design/\",\n    \"https://saratov-okt.kiber-one.com/o-kibershkole/fotogalereya/\"\n  ];\n}\n// 2) Спец-кейс: krg45.visa-rf.ru\nelse if (/^https?:\\/\\/krg45\\.visa-rf\\.ru\\/?$/i.test(base)) {\n  urlsarray = [\"http://krg45.visa-rf.ru/\"];\n}\n// 3) Спец-кейс: krg45.apec-first.ru\nelse if (/^https?:\\/\\/krg45\\.apec-first\\.ru\\/?$/i.test(base)) {\n  urlsarray = [\"http://krg45.apec-first.ru/\"];\n}\n// 4) Иначе — просто используем baseUrl как единственный URL\nelse {\n  if (base) {\n    urlsarray = [ base.endsWith('/') ? base : (base + '/') ];\n  } else {\n    urlsarray = []; // пусто — ничего не знаем\n  }\n}\n\n\n\nreturn [{ json: {base, urls: urlsarray } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -464,
        -48
      ],
      "id": "aa907e4b-a850-430f-888a-c457e5b72690",
      "name": "Code in JavaScript"
    }
  ],
  "connections": {
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {
    "When Executed by Another Workflow": [
      {
        "json": {
          "baseUrl": "https://saratov-okt.kiber-one.com/"
        }
      }
    ]
  },
  "versionId": "649d11ca-7c6a-45f9-acbb-44bf4d70017d",
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-10-22T13:51:50.209Z",
      "updatedAt": "2025-10-22T13:51:50.209Z",
      "role": "workflow:owner",
      "workflowId": "7FoU9Spu4KwNDAMk",
      "projectId": "spKmbJLU4mvACXIB"
    }
  ],
  "tags": []
}