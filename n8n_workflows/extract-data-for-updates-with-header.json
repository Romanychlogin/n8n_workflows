{
  "createdAt": "2025-09-30T17:56:19.098Z",
  "updatedAt": "2025-10-15T09:55:29.201Z",
  "id": "UUlsZU9GOCmdvDHg",
  "name": "extract data for updates with header",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "name": "Replace Me",
      "typeVersion": 1,
      "position": [
        4912,
        0
      ],
      "id": "422a90e5-a9cd-4517-8da4-d3d0d881f080"
    },
    {
      "parameters": {
        "operation": "xlsx",
        "options": {
          "fileName": "output.xlsx",
          "headerRow": true
        }
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        1040,
        -80
      ],
      "id": "f01b45d2-eae8-43cf-826b-8e9fc600423b",
      "name": "Convert to File"
    },
    {
      "parameters": {
        "path": "/ADS_startup",
        "binaryData": true
      },
      "type": "n8n-nodes-base.dropbox",
      "typeVersion": 1,
      "position": [
        2336,
        -96
      ],
      "id": "b481d235-879e-4fb6-8731-744f3bc50137",
      "name": "Upload a file",
      "credentials": {
        "dropboxApi": {
          "id": "KgtvFdGsueqNuB0Z",
          "name": "Dropbox account"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "e22ad154-2123-49fe-9e5a-c7fe836825f8",
              "name": "add_adv",
              "value": "={{ $json.add_adv }}",
              "type": "string"
            },
            {
              "id": "4262c0ff-c141-4fde-aebe-187481d9d0df",
              "name": "ADV_type",
              "value": "Текстово-графическое",
              "type": "string"
            },
            {
              "id": "a11661b9-dc1c-4750-b93f-ba5b74836562",
              "name": "mob",
              "value": "-",
              "type": "string"
            },
            {
              "id": "e1100e5c-4c72-456e-b2ec-55f0f536bff1",
              "name": "group_uid",
              "value": "",
              "type": "string"
            },
            {
              "id": "d9b1b21a-f230-41db-af85-b9bbcb554ee4",
              "name": "group_name",
              "value": "={{ $json.group_name }}",
              "type": "string"
            },
            {
              "id": "c0cb504d-2b55-4c1f-a628-80b7a369a078",
              "name": "group_id",
              "value": "=",
              "type": "number"
            },
            {
              "id": "5c643aae-d54d-4ad8-aee2-f5114f35f078",
              "name": "id_phrase",
              "value": " ",
              "type": "string"
            },
            {
              "id": "1df69495-ac3c-4f36-ac5d-5a014914feb0",
              "name": "key_words",
              "value": "={{ $json.key_word }}",
              "type": "string"
            },
            {
              "id": "4455b796-76dd-4789-b04d-51f793ae70f1",
              "name": "id_adv",
              "value": "",
              "type": "string"
            },
            {
              "id": "b308d9ca-9676-4837-a7b0-3512c73bf481",
              "name": "ad_header",
              "value": "={{ $json.ad_header }}",
              "type": "string"
            },
            {
              "id": "559ee132-e1dd-444b-9f9e-d87e5e8b1974",
              "name": "ad_header2",
              "value": "={{$json.cleaned_service_name}}",
              "type": "string"
            },
            {
              "id": "04f85c2c-a0b8-4ff8-9715-8ca7c329976e",
              "name": "ad_text",
              "value": "={{ $json.ad_text }}",
              "type": "string"
            },
            {
              "id": "4219b151-e444-4094-81c0-519c5352de8e",
              "name": "empty_1",
              "value": "",
              "type": "string"
            },
            {
              "id": "f18d9f2a-05a4-4294-be69-17504b51bacc",
              "name": "empty_2",
              "value": "",
              "type": "string"
            },
            {
              "id": "a312e417-8674-4cc4-84c2-efc3b997c5cc",
              "name": "empty_3",
              "value": "",
              "type": "string"
            },
            {
              "id": "61c57fa1-7755-4bf4-b39f-3369363114f6",
              "name": "ad_url",
              "value": "={{ $json.ad_url }}",
              "type": "string"
            },
            {
              "id": "e3a249d0-8ec2-4d1e-91c6-32affb8b0734",
              "name": " display_url",
              "value": "",
              "type": "string"
            },
            {
              "id": "c060b10e-692d-4334-8efa-6f7caf10a9f7",
              "name": "company_id",
              "value": "={{ $('select company data').first().json.yandex_id }}",
              "type": "string"
            },
            {
              "id": "8fe20bbd-a870-40f5-9798-4546e9ad1d5e",
              "name": "empty_4",
              "value": "",
              "type": "string"
            },
            {
              "id": "886783a2-ee5e-43c6-93ff-2e5c4f96fb8f",
              "name": "region",
              "value": "={{ $('select company data').first().json.yandex_region }}",
              "type": "string"
            },
            {
              "id": "c62dd54c-0098-4a3b-8d48-69e150b13099",
              "name": "auto_bid",
              "value": "={{ $json.service_bid}}",
              "type": "string"
            },
            {
              "id": "e7a8750e-09ea-46b6-8d5a-c38e3e4e46ca",
              "name": "bid",
              "value": "={{ $json.service_bid}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        704,
        -80
      ],
      "id": "53b9c994-d82d-4051-b03a-357724c272e3",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "5b3485a2-cb50-486a-932c-fc27de0a25da",
              "name": "company_id",
              "value": "1",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -320,
        -80
      ],
      "id": "4a3d50e6-d09e-4db0-b06b-23ceefb8389e",
      "name": "Set variables"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT ad.*, cs1.service_bid, regexp_replace(\n    cs1.service_name,\n    '[^a-zA-Zа-яА-ЯёЁ ]',\n    '',\n    'g'\n) AS cleaned_service_name,cs1.count_clics \nFROM current_ads_list AS ad\nLEFT JOIN LATERAL (\n    SELECT cs.service_bid,cs.service_name, COALESCE(kw.count_clics,0) as count_clics\n    FROM current_list kw\n    JOIN company_services cs\n      ON cs.service_id = kw.service_id\n     AND cs.company_id = ad.company_id       -- если есть привязка к компании — рекомендую\n    WHERE kw.key_word = ad.key_word  \n    ORDER BY cs.service_bid DESC NULLS LAST  -- критерий выбора ОДНОЙ записи\n    LIMIT 1\n) AS cs1 ON TRUE\nWHERE ad.company_id = $1 AND ad.need_check=false order by service_name,count_clics desc;",
        "options": {
          "queryReplacement": "={{ $json.company_id }}"
        }
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        224,
        -80
      ],
      "id": "16819f54-d4a3-4020-994a-9cdba0646688",
      "name": "select ads data",
      "credentials": {
        "postgres": {
          "id": "Hx2VFmUi5WO2K4QX",
          "name": "Postgres account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "companies",
          "mode": "list",
          "cachedResultName": "companies"
        },
        "returnAll": true,
        "where": {
          "values": [
            {
              "column": "company_id",
              "value": "={{ $json.company_id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -32,
        -80
      ],
      "id": "96c57c21-ef6a-4ed7-87d3-2594efbb56f3",
      "name": "select company data",
      "credentials": {
        "postgres": {
          "id": "Hx2VFmUi5WO2K4QX",
          "name": "Postgres account 2"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// === настройки ===\nconst BATCH_SIZE = 50;\n\n// все входные элементы\nconst inputItems = $input.all();           // [{ json: {...} }, ...]\nconst rows = inputItems.map(i => i.json);\n\n// 1) группируем по cleaned_service_name (сохраняем порядок появления)\nconst byService = new Map();\nfor (const rec of rows) {\n  const key = rec.cleaned_service_name ?? '';\n  if (!byService.has(key)) byService.set(key, []);\n  byService.get(key).push(rec);\n}\n\nconst out = [];\n\n// 2) по каждой группе режем на пачки ≤ 50\nfor (const [serviceName, list] of byService.entries()) {\n  for (let offset = 0, batchNo = 1; offset < list.length; offset += BATCH_SIZE, batchNo++) {\n    const batch = list.slice(offset, offset + BATCH_SIZE);\n    if (batch.length === 0) continue;\n\n    const groupName = `${serviceName}_${batchNo}`;\n\n    // Берём шаблон из первой записи пачки\n    const first = batch[0] ?? {};\n    const templateHeader = first.ad_header;\n    const templateText   = first.ad_text;\n    const templateUrl    = first.ad_url;\n\n    // 2.1) ОРИГИНАЛЬНЫЕ записи пачки:\n    //     ad_header/ad_text/ad_url = из первой записи пачки\n    for (const rec of batch) {\n      out.push({\n        json: {\n          ...rec,\n          group_name: groupName,\n          ad_header: templateHeader,\n          ad_text:   templateText,\n          ad_url:    templateUrl,\n          add_adv:'-'\n        },\n      });\n    }\n\n    // 2.2) Дубликаты всех, КРОМЕ первой, с пустым key_word\n    for (let i = 1; i < batch.length; i++) {\n      out.push({\n        json: {\n          ...batch[i],\n          group_name: groupName,\n          key_words: '', // очищаем только key_words\n          add_adv:'+'\n        },\n      });\n    }\n  }\n}\n\nreturn out;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        432,
        -80
      ],
      "id": "8a20bdc0-26f0-48a8-a962-4ff2b49c80bd",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -1008,
        16
      ],
      "id": "8beb55ec-60d2-46a3-842d-2113e27efdab",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO business_processes_states (business_process_id, company_id,n8n_workflow_execution_id,n8n_workflow_root_execution_id, started)\nSELECT MAX(business_process_id), $2,$3,$4, NOW()\nFROM public.business_processes\nWHERE n8n_process_name = $1;",
        "options": {
          "queryReplacement": "=[{{$workflow.name}},{{$json.company_id}},{{$execution.id}},{{ $('When Executed by Another Workflow').item.json.root_execution_id }}]"
        }
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -736,
        -32
      ],
      "id": "ca2edbb3-ee5f-42c0-a8e6-71ee04fbfbd1",
      "name": "Mark_workwlow_started",
      "credentials": {
        "postgres": {
          "id": "4YkdFJcdTgzo9hkz",
          "name": "PGvector"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1600,
        -48
      ],
      "id": "9aa4f336-7e95-4bdf-9fee-405847ce75b2",
      "name": "Merge"
    },
    {
      "parameters": {
        "jsCode": "// Add package in Code node: exceljs\nconst ExcelJS = require('exceljs');\n\nconst HEADER_ROWS = 12;\nconst sampleSheetIndex = 1; // 1-based\nconst targetSheetIndex = 1; // 1-based\n\n// ---- значение для E9: из входного JSON или дефолт ----\nconst item = $input.item;\nconst MY_E9_STRING = $('When Executed by Another Workflow').first().json.minus_words;\n\nif (!item.binary?.template || !item.binary?.target) {\n  throw new Error(\"Нужны два бинарных файла: binary.sample и binary.target.\");\n}\n\nconst sampleBuf = Buffer.from(item.binary.template.data, 'base64');\nconst targetBuf = Buffer.from(item.binary.target.data, 'base64');\n\nconst wbSample = new ExcelJS.Workbook();\nawait wbSample.xlsx.load(sampleBuf);\nconst wbTarget = new ExcelJS.Workbook();\nawait wbTarget.xlsx.load(targetBuf);\n\nconst wsSample = wbSample.getWorksheet(sampleSheetIndex);\nconst wsTarget = wbTarget.getWorksheet(targetSheetIndex);\nif (!wsSample || !wsTarget) throw new Error(\"Проверьте индексы листов.\");\n\nwsTarget.spliceRows(1, 0, ...Array.from({ length: HEADER_ROWS }, () => []));\n\n// высоты строк\nfor (let r = 1; r <= HEADER_ROWS; r++) {\n  const srcRow = wsSample.getRow(r), dstRow = wsTarget.getRow(r);\n  if (srcRow && srcRow.height != null) dstRow.height = srcRow.height;\n}\n\n// ширины столбцов\nconst maxCol = wsSample.actualColumnCount || wsSample.columnCount || 50;\nfor (let c = 1; c <= maxCol; c++) {\n  const srcCol = wsSample.getColumn(c), dstCol = wsTarget.getColumn(c);\n  if (srcCol && srcCol.width != null) dstCol.width = srcCol.width;\n}\n\n// значения+стили в первых HEADER_ROWS\nfor (let r = 1; r <= HEADER_ROWS; r++) {\n  for (let c = 1; c <= maxCol; c++) {\n    const s = wsSample.getCell(r, c), d = wsTarget.getCell(r, c);\n    d.value = s.value;\n    if (s.font) d.font = { ...s.font };\n    if (s.alignment) d.alignment = { ...s.alignment };\n    if (s.fill) d.fill = { ...s.fill };\n    if (s.border) d.border = { ...s.border };\n    if (s.numFmt) d.numFmt = s.numFmt;\n    if (s.protection) d.protection = { ...s.protection };\n  }\n}\n\n// объединения (полностью в зоне шапки)\nconst merges = (wsSample.model && wsSample.model.merges) ? wsSample.model.merges : [];\nfor (const addr of merges) {\n  const m = addr.match(/^([A-Z]+)(\\d+):([A-Z]+)(\\d+)$/i);\n  if (!m) continue;\n  const r1 = parseInt(m[2], 10), r2 = parseInt(m[4], 10);\n  if (r1 <= HEADER_ROWS && r2 <= HEADER_ROWS) wsTarget.mergeCells(addr);\n}\n\n// --- ВАЖНО: перезаписываем значение E9 в итоговом файле ---\nconst e9 = wsTarget.getCell('E9');\ne9.value = MY_E9_STRING;          // стиль сохранится, меняем только value\n// при желании можно выровнять:\nif (e9.alignment) e9.alignment = { ...e9.alignment, wrapText: true };\n\n// сохранить\nconst outBuffer = await wbTarget.xlsx.writeBuffer();\nconst fileName = (item.binary.target.fileName || \"output_with_header.xlsx\")\n  .replace(/\\.xlsx$/i, '') + \"_with_header.xlsx\";\n\nreturn [{\n  json: {},\n  binary: {\n    file: {\n      data: outBuffer.toString('base64'),\n      fileName,\n      mimeType: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n    }\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1888,
        -80
      ],
      "id": "6331b990-c7d9-4e73-adcb-b93fced6a930",
      "name": "Code in JavaScript1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "280083b6-06ad-4a7b-9901-0b620e166437",
              "name": "path",
              "value": "https://www.dropbox.com/scl/fi/u8qppd514in2neu7fkjnd/702142188_example.xlsx?rlkey=1rt8hutw556avhy5ahqtvj7w8&dl=1",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -624,
        160
      ],
      "id": "1cde0995-75f3-4bee-949a-1ced75d68421",
      "name": "set template path"
    },
    {
      "parameters": {
        "url": "={{$json.path}}",
        "responseFormat": "file",
        "options": {}
      },
      "id": "32181324-eb18-4007-9837-66c20cd1d736",
      "name": "Download File",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        864,
        128
      ]
    },
    {
      "parameters": {
        "operation": "xlsx",
        "options": {}
      },
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1,
      "position": [
        1056,
        128
      ],
      "id": "fc8e7286-c614-443e-b155-d50951d9cc1b",
      "name": "Extract from File"
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "target.xlsx",
        "options": {
          "append": false
        }
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        1248,
        -80
      ],
      "id": "ac2619a8-f9bb-4862-a2ed-ac37f73009d6",
      "name": "Read/Write Files from Disk"
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "template.xlsx",
        "options": {
          "append": false
        }
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        1280,
        112
      ],
      "id": "f908967b-84a2-4607-96ea-c5b14af7593c",
      "name": "Read/Write Files from Disk1"
    }
  ],
  "connections": {
    "Replace Me": {
      "main": [
        []
      ]
    },
    "Convert to File": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set variables": {
      "main": [
        [
          {
            "node": "select company data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "select ads data": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "select company data": {
      "main": [
        [
          {
            "node": "select ads data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Mark_workwlow_started",
            "type": "main",
            "index": 0
          },
          {
            "node": "set template path",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mark_workwlow_started": {
      "main": [
        [
          {
            "node": "Set variables",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Code in JavaScript1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript1": {
      "main": [
        [
          {
            "node": "Upload a file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download File": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "set template path": {
      "main": [
        [
          {
            "node": "Download File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read/Write Files from Disk": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read/Write Files from Disk1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "When Executed by Another Workflow": [
      {
        "json": {
          "company_id": 1,
          "root_execution_id": 74293,
          "minus_words": "-2018 -2025 -абакан -алматы -альметьевск -амур -ангарск -арзамас -армавир -архангельск -астрахани -ачинск -балаково -барнаул -батайск -беларуси -белгород -белоруссия -белорусский -березники -бесплатно -бийск -благовещенск -бобруйс -бобруйске -боровичи -братск -брянск -вакансии -великая -вк -владивосток -владикавказ -владимир -волгоград -волгодонск -волжском -вологда -волхова -воронеж -гатчине -геленджик -глазова -гомеле -грозный -дербент -дзержинск -димитровград -днепропетровск -днр -дону -дятьково -екатеринбург -елец -зеленодольск -златоуст -иваново -ижевск -илимск -иркутск -йошкар -казани -калининград -калуг -каменск -камчатская -камышин -канск -кемерово -киев -кирова -кирове -киселевск -кисловодск -ковров -комсомольск -копейск -кострома -край -краснодар -краснодарский -красноярск -крыму -кузнецк -кузнецкая -курган -курск -кызыл -ленинск -липецк -магнитогорск -майкоп -махачкала -междуреченск -миасс -минск -могилеве -мура -мурманск -муром -мурома -мытищи -набережные -назрани -нальчик -находка -невинномысск -нефтекамск -нефтеюганск -нижне -нижневартовск -нижнекамск -новгород -новокузнецк -новокуйбышевск -новомосковск -новороссийск -новосибирск -новотроицк -новочебоксарск -новочеркасск -новошахтинск -ногинску -норильск -одесса -октябрьская -омск -орела -оренбург -орск -оскол -пенза -первоуральск -перми -петербург -петрозаводск -питере -прокопьевск -псков -пятигорск -ростов -рубцовск -рыбинск -рязани -салават -самар -самарская -самому -самостоятельно -саранск -сарапул -сахалинск -севастополе -северодвинск -северск -симферополь -смоленск -смотреть -соликамск -сочи -спб -ставрополь -стерлитамак -сургут -сызрани -сыктывкар -таганрог -тагил -тамбов -твери -тобольска -тольятти -томск -тула -тюмени -удэ -украина -улан -ульяновск -уральская -уссурийск -усть -уфа -ухта -хабаровск -хасавюрт -чебоксар -челнах -челябинск -череповец -черкесск -чита -шахт -элиста -ютуб -якутск -ялте -ярославле -к -как -кого -кто -ли -может -не -нет -о -об -своими -у -чего -чем -что -это -бесплатная -бесплатные -бесплатный -вакансия -варианты -википедия -вконтакте -гост -график -зачем -значит -какая -какие -какими -какого -какое -какой -скачать -слушать -снится -сон -сонник -абакана -альметьевска -амура -амуре -ангарска -арзамаса -армавира -архангельска -архангельске -астрахань -ачинска -барнаула -барнауле -батайска -батайске -беларусь -белгорода -белгороде -белорусских -бийска -благовещенске -братска -брянска -брянске -брянски -великие -великий -великого -владивостока -владикавказа -владимира -владимире -волгограда -волгограде -волжская -волжские -волжский -волжских -волжского -волжское -волжской -волжскую -вологде -вологду -воронежа -воронеже -уфе -хабаровска -хасавюрта -чебоксары -челнов -челны -челябинска -челябинске -челябинску -череповца -череповце -читу -читы -шахта -шахту -шахты -якутска -ярославль -ярославля -чите -Апрелевка -Апрелевке -Балашиха -Балашихе -Бронницах -Бронницы -Видное -Волоколамск -Волоколамске -Воскресенск -Воскресенске -геленджике -глазов -глазовов -гомель -дзержинска -димитровграда -днепропетровске -екатеринбурга -екатеринбурге -екатеринбургу -зеленодольска -златоуста -ижевска -ижевске -ижевску -илимска -иркутска -иркутске -казань -калининграда -калининграде -калуга -калуге -калуги -калугу -каменска -каменски -камчатские -камчатский -камчатских -камчатского -камчатское -камчатской -камчатскую -камышина -камышинов -камышины -канска -канске -киеве -киров -киселевска -киселевске -кисловодска -комсомольска -комсомольске -костроме -кострому -костромы -краснодара -краснодаре -краснодару -красноярска -красноярске -кузнецкие -кузнецкое -кузнецкой -кузнецкую -кургана -кургане -курганы -курска -курске -ленинска -ленинске -липецка -липецке -липецки -магнитогорска -магнитогорске -майкопа -махачкале -махачкалу -махачкалы -миасса -миассов -миассы -Голицыно -Дмитров -Домодедово -Дубна -Дубне -Егорьевск -Егорьевске -железнодорожном -железнодорожный -жуковское -жуковском -Звенигород -Звенигороде -зеленоград -зеленограда -зеленограде -зуево -Ивантеевка -Ивантеевке -Истра -Истре -Кашира -Кашире -Клин -Клину -коломна -коломне -колпино -королев -королеве -Красногорск -Красногорске -Кубинка -Лобня -Луховицы -люберцах -люберцы -Можайск -Можайске -ногинск -ногинска -ногинске -обнинск -обнинска -обнинске -одинцово -орехово -Павловский -подольск -подольска -подольске -подольску -посад -посаде -минске -мур -мурманска -мурманске -мурому -набережных -назрань -нальчика -находки -находку -невинномысска -невинномысске -нефтекамска -нефтекамске -нефтеюганска -нефтеюганске -нижневартовска -нижневартовске -нижнего -нижнекамска -нижнекамске -нижнем -нижний -новгорода -новгороде -новгороду -новокузнецка -новокузнецке -новокуйбышевска -новокуйбышевске -новомосковска -новороссийска -новороссийске -новосибирска -новосибирске -новосибирску -новотроицка -новотроицки -новочебоксарска -новочебоксарске -новочеркасска -новочеркасске -новошахтинска -новошахтинске -норильска -норильске -октябрьские -октябрьский -ола -омска -омске -омску -орел -оренбурга -оренбурге -орла -орле -орска -орске -оскола -осколов -осколы -пензе -пензу -пензы -первоуральска -первоуральске -пермь -петербурга -петербурге -петербургу -прокопьевска -прокопьевске -пскова -пскове -пятигорска -пятигорске -ростове -рубцовска -рыбинска -Пушкино -Раменское -Руза -сергиев -серпухов -серпухова -серпухове -Солнечногорск -Солнечногорске -Ступино -Талдом -Фоминск -фоминске -химки -чехов -чехове -щелково -электростали -электросталь -Яхрома -Москва -Московская -рязань -салавата -самара -самаре -самару -самары -саранска -саранске -сахалинска -сахалинске -севастополь -северодвинска -северодвинске -смоленска -смоленске -соликамска -ставрополя -сургута -сургуте -сызрань -сыктывкаре -таганрога -2019 -2020 -2021 -2022 -2023 -2024 -2026 -чему -быть -вам -если -или -тагила -тамбова -тамбове -тверь -томска -томске -туле -тулы -тюмень -украине -ульяновска -ульяновске -уральские -уральский -уральских -уральского -уральское -уральской -уральскую -уссурийска"
        }
      }
    ]
  },
  "versionId": "781a8a71-8666-430d-a89c-70ff3ece7746",
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-09-30T17:56:19.098Z",
      "updatedAt": "2025-09-30T17:56:19.098Z",
      "role": "workflow:owner",
      "workflowId": "UUlsZU9GOCmdvDHg",
      "projectId": "spKmbJLU4mvACXIB"
    }
  ],
  "tags": [
    {
      "createdAt": "2025-10-06T13:06:54.644Z",
      "updatedAt": "2025-10-06T13:06:54.644Z",
      "id": "DBEf57wUDunVJUG6",
      "name": "campaign update"
    }
  ]
}